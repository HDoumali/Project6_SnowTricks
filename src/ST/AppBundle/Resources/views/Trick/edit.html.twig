{% extends "STAppBundle::layout.html.twig" %}

{% block title %}
	Modification de la figure "{{ trick.name }}" - {{ parent() }}
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript" src="{{ asset('js/picture_edit_form.js') }}"></script>
<script type="text/javascript" src="{{ asset('js/video_edit_form.js') }}"></script>
{% endblock %}

{% block body %}


	<h3>Vous souhaitez modifier la figure "{{ trick.name }}"</h3>

	<div class="img_presentation_trick col-lg-12">
	{% for picture in trick.pictures %}
		{% if loop.first %}
			    <div class="setting_trick">
				    <a href="{{ path('st_app_edit_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
	                <a href="{{ path('st_app_delete_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
                </div>
				<img src="{{ asset(picture.webPath) }}" class="img-responsive" alt="{{ picture.alt }}">
		{% endif %}
	    {% else %}
	    	    <div class="setting_trick">
				    <a href="{{ path('st_app_edit_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
	                <a href="{{ path('st_app_delete_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
                </div>
	    	    <img src="{{ asset('img/default.jpg') }}" class="img-responsive "alt="imgdefault">
	{% endfor %}
    </div>
    {% if trick.pictures is not empty %}
	<div class="row">
		
		{% for picture in trick.pictures %}
			{% if not loop.first %}
				<div class="col-sm-6 col-md-5">
					<div class="thumbnail">
						<img src="{{ asset(picture.webPath) }}" class="img-responsive" alt="{{ picture.alt }}">
						<div class="setting_trick">
						    <a href="{{ path('st_app_edit_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
			                <a href="{{ path('st_app_delete_picture', {'id': picture.id}) }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
	                    </div>
				    </div>
			    </div>
		    {% endif %}
		{% endfor %}
    </div>
{% else %}
	<p>Pas d'image</p>
{% endif %}

{% if trick.videos is not empty %}
	{% for video in trick.videos %}
            <iframe src="{{ video.link }}" allowfullscreen></iframe>
            <div class="setting_trick">
			    <a href="{{ path('st_app_edit_video', {'id': video.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
			    <a href="{{ path('st_app_delete_video', {'id': video.id}) }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
	        </div>
	{% endfor %}
{% else %}
	<p>Pas de video</p>
{% endif %}

	{{ include("STAppBundle:Trick:form.html.twig") }}
	<a href="{{ path('st_app_delete', {'id': trick.id}) }}"><button type="button" class="btn btn-danger">Supprimer</button></a>

	<p>la modification sera visible directement apr√®s validation du formulaire</p>
	
{% endblock %}